<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dark Sanctum - Horror Adventure</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Courier New', monospace;
            background: linear-gradient(135deg, #0a0a0a, #1a1a2e, #16213e);
            min-height: 100vh;
            color: #e8e8e8;
            overflow-x: hidden;
            cursor: default;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 3.5rem;
            color: #ff6b6b;
            text-shadow: 0 0 10px #ff0000, 0 0 20px #ff0000;
            margin-bottom: 10px;
            font-weight: bold;
            letter-spacing: 2px;
        }

        .header p {
            color: #b8b8b8;
            font-size: 1.2rem;
            max-width: 600px;
            margin: 0 auto;
            text-shadow: 0 0 5px rgba(255, 0, 0, 0.3);
        }

        .story-container {
            background: rgba(0, 0, 0, 0.8);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 0 30px rgba(255, 0, 0, 0.3);
            margin-bottom: 30px;
            border: 1px solid #ff6b6b;
        }

        .story-content {
            text-align: center;
            margin-bottom: 30px;
        }

        .story-text {
            font-size: 1.4rem;
            line-height: 1.8;
            margin-bottom: 30px;
            color: #e8e8e8;
            text-align: center;
            background: rgba(0, 0, 0, 0.7);
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #ff6b6b;
        }

        .story-image {
            width: 100%;
            height: 300px;
            border-radius: 12px;
            margin-bottom: 25px;
            object-fit: cover;
            box-shadow: 0 0 20px rgba(255, 0, 0, 0.4);
            border: 2px solid #ff6b6b;
        }

        .choices-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
            margin-top: 30px;
        }

        .choice-btn {
            background: linear-gradient(135deg, #2d3436, #636e72);
            color: #ffffff;
            border: 2px solid #ff6b6b;
            padding: 15px;
            border-radius: 12px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .choice-btn:hover {
            transform: translateY(-2px);
            background: linear-gradient(135deg, #ff6b6b, #c44569);
        }

        .stats {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 25px;
            padding: 15px;
            background: rgba(0, 0, 0, 0.7);
            border-radius: 10px;
            border: 1px solid #ff6b6b;
        }

        .score {
            font-size: 1.3rem;
            font-weight: bold;
            color: #ff6b6b;
        }

        .restart-btn {
            background: linear-gradient(135deg, #ff6b6b, #c44569);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 1.2rem;
            cursor: pointer;
            margin-top: 30px;
            font-weight: 600;
            display: none;
        }

        .ending-message {
            font-size: 2rem;
            color: #ff6b6b;
            text-align: center;
            margin: 30px 0;
            font-weight: bold;
            background: rgba(0, 0, 0, 0.8);
            padding: 20px;
            border-radius: 15px;
            border: 2px solid #ff6b6b;
        }

        .progress-bar {
            width: 100%;
            height: 10px;
            background: #2d3436;
            border-radius: 5px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress {
            height: 100%;
            background: linear-gradient(90deg, #ff6b6b, #c44569);
            border-radius: 5px;
            transition: width 0.5s ease;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2.5rem;
            }
            
            .story-text {
                font-size: 1.2rem;
            }
            
            .choices-container {
                grid-template-columns: 1fr;
            }
            
            .choice-btn {
                padding: 12px;
                font-size: 1rem;
            }
            
            .story-image {
                height: 250px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>DARK SANCTUM</h1>
            <p>Your choices determine your fate. Will you survive the nightmare?</p>
        </div>

        <div class="story-container">
            <div class="progress-bar">
                <div class="progress" id="progressBar"></div>
            </div>

            <div class="story-content">
                <img src="https://placehold.co/800x400/000000/ff6b6b?text=Abandoned+Asylum" alt="Abandoned mental asylum" class="story-image" id="storyImage">
                <p class="story-text" id="storyText">
                    The old Ravenswood Asylum has stood abandoned for decades, but tonight... something calls you here. The iron gates creak open as if expecting you. A storm brews overhead, lightning illuminating the decaying facade. Your flashlight flickers. You know you shouldn't be here, but something pulls you forward into the darkness...
                </p>
            </div>

            <div class="choices-container" id="choicesContainer">
                <button class="choice-btn" data-choice="1">Enter through the main entrance</button>
                <button class="choice-btn" data-choice="2">Search for a side entrance</button>
                <button class="choice-btn" data-choice="3">Investigate the grounds first</button>
            </div>

            <div class="stats">
                <div class="score">Sanity: <span id="score">100</span>/100</div>
            </div>

            <button class="restart-btn" id="restartBtn">Begin Another Nightmare</button>
            <div id="endingMessage" class="ending-message"></div>
        </div>
    </div>

    <script>
        // Game state
        let currentScene = 0;
        let sanity = 100;
        let gameEnded = false;

        // Story data with complete branching paths
        const story = {
            scenes: [
                // Scene 0 - Introduction
                {
                    text: "The old Ravenswood Asylum has stood abandoned for decades, but tonight... something calls you here. The iron gates creak open as if expecting you. A storm brews overhead, lightning illuminating the decaying facade. Your flashlight flickers. You know you shouldn't be here, but something pulls you forward into the darkness...",
                    image: "https://placehold.co/800x400/000000/ff6b6b?text=Abandoned+Asylum",
                    choices: [
                        { text: "Enter through the main entrance", next: 1, sanity: -10 },
                        { text: "Search for a side entrance", next: 2, sanity: -5 },
                        { text: "Investigate the grounds first", next: 3, sanity: -3 }
                    ]
                },
                // Scene 1 - Main Entrance
                {
                    text: "The massive oak doors groan open, revealing a grand foyer consumed by shadow. Dust dances in your flashlight beam. The air smells of decay and... something metallic. To your left, a staircase ascends into darkness. Straight ahead, a corridor lined with patient rooms. To your right, an administration office with files scattered everywhere.",
                    image: "https://placehold.co/800x400/000000/ff6b6b?text=Grand+Foyer",
                    choices: [
                        { text: "Ascend the creaking staircase", next: 4, sanity: -15 },
                        { text: "Explore the patient rooms corridor", next: 5, sanity: -12 },
                        { text: "Check the administration office", next: 6, sanity: -8 }
                    ]
                },
                // Scene 2 - Side Entrance
                {
                    text: "You find a rusted service entrance partially hidden by overgrown ivy. The door groans but opens reluctantly. Inside, you're in what appears to be an old laundry room. Murky water fills washtubs, rusted machines stand silent. A faint whispering seems to come from a door marked 'BASEMENT ACCESS'.",
                    image: "https://placehold.co/800x400/000000/ff6b6b?text=Laundry+Room",
                    choices: [
                        { text: "Investigate the whispering basement", next: 7, sanity: -20 },
                        { text: "Search the laundry room thoroughly", next: 8, sanity: -10 },
                        { text: "Go back to main grounds", next: 0, sanity: -5 }
                    ]
                },
                // Scene 3 - Grounds Investigation
                {
                    text: "The grounds are wildly overgrown and neglected. You find an old patient journal partially buried near a bench. The frantic writing speaks of 'experiments' and 'the watchers in the walls.' A toolshed stands nearby, its door slightly ajar. In the distance, a small cemetery with crooked crosses.",
                    image: "https://placehold.co/800x400/000000/ff6b6b?text=Overgrown+Grounds",
                    choices: [
                        { text: "Read the journal completely", next: 9, sanity: -8 },
                        { text: "Investigate the toolshed", next: 10, sanity: -12 },
                        { text: "Visit the patient cemetery", next: 11, sanity: -15 }
                    ]
                },
                // Scene 4 - Staircase
                {
                    text: "The staircase groans under your weight, each step echoing through the silent halls. On the second floor, you find rows of patient rooms with rusted beds still bearing restraints. One room has scratch marks covering every inch of the walls. A shadow moves at the end of the hall. You hear faint crying from a room marked 'ISOLATION'.",
                    image: "https://placehold.co/800x400/000000/ff6b6b?text=Second+Floor",
                    choices: [
                        { text: "Follow the shadow down the hall", next: 12, sanity: -25 },
                        { text: "Investigate the crying room", next: 13, sanity: -20 },
                        { text: "Search the scratched room", next: 14, sanity: -18 }
                    ]
                },
                // Scene 5 - Patient Rooms Corridor
                {
                    text: "The patient rooms are small, cold, and deeply unsettling. Many still contain personal effects. One room has dozens of drawings of the same screaming face. Another has a message scrawled in what looks like dried blood: 'HE IS WATCHING'. You hear dragging sounds from further down the hall.",
                    image: "https://placehold.co/800x400/000000/ff6b6b?text=Patient+Rooms",
                    choices: [
                        { text: "Follow the dragging sounds", next: 15, sanity: -22 },
                        { text: "Examine the bloody message", next: 16, sanity: -15 },
                        { text: "Study the screaming face drawings", next: 17, sanity: -12 }
                    ]
                },
                // Scene 6 - Administration Office
                {
                    text: "The office is in disarray with patient files scattered everywhere. One file stands out: 'SUBJECT 734 - THE WATCHER'. Photos show a figure with no eyes, just empty darkness. A security monitor flickers to life, showing movement in the basement. A drawer contains a rusted key labeled 'ROOF ACCESS'.",
                    image: "https://placehold.co/800x400/000000/ff6b6b?text=Office+Files",
                    choices: [
                        { text: "Take the roof key and ascend", next: 18, sanity: -10 },
                        { text: "Go to the basement seen on monitor", next: 19, sanity: -25 },
                        { text: "Read more patient files for clues", next: 20, sanity: -8 }
                    ]
                },
                // Scene 7 - Basement
                {
                    text: "END: The basement stairs descend into absolute darkness. As you reach the bottom, you find yourself face to face with The Watcher. It consumes your soul, adding you to its collection of lost spirits. You are now forever trapped within the asylum walls.",
                    image: "https://placehold.co/800x400/000000/ff6b6b?text=The+Watcher",
                    choices: [],
                    ending: true
                },
                // Scene 8 - Laundry Room
                {
                    text: "END: Searching the laundry room, you find evidence of horrific experiments. But as you read the documents, the door slams shut behind you. The air grows cold. Shadowy figures emerge from the darkness. They've been waiting for you...",
                    image: "https://placehold.co/800x400/000000/ff6b6b?text=Trapped",
                    choices: [],
                    ending: true
                },
                // Scene 9 - Journal
                {
                    text: "END: The journal reveals the truth about the asylum's experiments. But the knowledge comes at a price. The Watcher claims your mind. You become one of the asylum's permanent residents, forever reliving its horrors.",
                    image: "https://placehold.co/800x400/000000/ff6b6b?text=Madness",
                    choices: [],
                    ending: true
                },
                // Scene 10 - Toolshed
                {
                    text: "END: The toolshed contains surgical instruments and records of failed experiments. As you examine them, the door locks from the outside. The last thing you see are shadows moving under the door...",
                    image: "https://placehold.co/800x400/000000/ff6b6b?text=Experiment",
                    choices: [],
                    ending: true
                },
                // Scene 11 - Cemetery
                {
                    text: "END: The cemetery holds unmarked graves. As you investigate the fresh grave, the earth begins to move. Pale hands grab your ankles, pulling you down into the cold earth. You join the other lost souls.",
                    image: "https://placehold.co/800x400/000000/ff6b6b?text=Graveyard",
                    choices: [],
                    ending: true
                },
                // Scene 12 - Following Shadow
                {
                    text: "END: The shadow leads you to a sealed room. The door slams shut behind you. The walls begin to close in. The last thing you hear is laughter echoing through the darkness...",
                    image: "https://placehold.co/800x400/000000/ff6b6b?text=Sealed+Room",
                    choices: [],
                    ending: true
                },
                // Scene 13 - Isolation Room
                {
                    text: "END: The isolation room is empty except for scratch marks covering every surface. As you enter, the door locks behind you. The scratch marks begin to glow with an eerie light. You're not alone...",
                    image: "https://placehold.co/800x400/000000/ff6b6b?text=Isolation",
                    choices: [],
                    ending: true
                },
                // Scene 14 - Scratched Room
                {
                    text: "END: The scratched room tells a story of madness and torment. As you study the patterns, you realize they're moving. The scratches reform into words: 'YOU'RE NEXT'. The door vanishes...",
                    image: "https://placehold.co/800x400/000000/ff6b6b?text=Moving+Walls",
                    choices: [],
                    ending: true
                },
                // Scene 15 - Dragging Sounds
                {
                    text: "END: The dragging sounds lead you to a room filled with medical equipment. A figure in a bloody lab coat turns to face you. 'Subject 735... perfect timing.' The door locks with a final click.",
                    image: "https://placehold.co/800x400/000000/ff6b6b?text=Doctor",
                    choices: [],
                    ending: true
                },
                // Scene 16 - Bloody Message
                {
                    text: "END: The bloody message shifts as you read it. The words reform: 'I SEE YOU'. The walls begin to bleed. The asylum has claimed another victim...",
                    image: "https://placehold.co/800x400/000000/ff6b6b?text=Bleeding+Walls",
                    choices: [],
                    ending: true
                },
                // Scene 17 - Screaming Drawings
                {
                    text: "END: The drawings' eyes begin to follow you. Their mouths open in silent screams. The room temperature drops to freezing. The drawings peel off the walls, surrounding you...",
                    image: "https://placehold.co/800x400/000000/ff6b6b?text=Living+Drawings",
                    choices: [],
                    ending: true
                },
                // Scene 18 - Roof Access
                {
                    text: "END: The roof offers a view of the stormy night. Lightning strikes nearby. As you turn to leave, you see a figure blocking the door. It has no eyes, just empty sockets that seem to drink the light...",
                    image: "https://placehold.co/800x400/000000/ff6b6b?text=Roof+Confrontation",
                    choices: [],
                    ending: true
                },
                // Scene 19 - Basement from Monitor
                {
                    text: "END: The surgical theater is active. Instruments move on their own, performing procedures on invisible patients. They notice you. The instruments turn in your direction...",
                    image: "https://placehold.co/800x400/000000/ff6b6b?text=Surgical+Theater",
                    choices: [],
                    ending: true
                },
                // Scene 20 - More Files
                {
                    text: "END: The files detail horrific experiments that blurred the line between human and... something else. As you read, the pages begin to bleed. The words rearrange themselves into a single message: 'JOIN US'...",
                    image: "https://placehold.co/800x400/000000/ff6b6b?text=Bleeding+Files",
                    choices: [],
                    ending: true
                }
            ]
        };

        // Initialize game
        function initGame() {
            updateScene();
            updateProgressBar();
            setupEventListeners();
        }

        // Setup event listeners
        function setupEventListeners() {
            const choiceButtons = document.querySelectorAll('.choice-btn');
            choiceButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const choiceIndex = parseInt(this.getAttribute('data-choice'));
                    makeChoice(choiceIndex);
                });
            });

            const restartBtn = document.getElementById('restartBtn');
            restartBtn.addEventListener('click', restartGame);
        }

        // Make a choice and advance the story
        function makeChoice(choiceIndex) {
            if (gameEnded) return;
            
            const current = story.scenes[currentScene];
            const choice = current.choices[choiceIndex - 1];
            
            sanity = Math.max(0, sanity + choice.sanity);
            document.getElementById('score').textContent = sanity;
            
            currentScene = choice.next;
            updateScene();
            updateProgressBar();
        }

        // Update the current scene display
        function updateScene() {
            const scene = story.scenes[currentScene];
            const storyText = document.getElementById('storyText');
            const storyImage = document.getElementById('storyImage');
            const choicesContainer = document.getElementById('choicesContainer');
            const restartBtn = document.getElementById('restartBtn');
            const endingMessage = document.getElementById('endingMessage');

            storyText.textContent = scene.text;
            storyImage.src = scene.image;
            storyImage.alt = scene.text.substring(0, 50) + '...';

            // Clear previous choices
            choicesContainer.innerHTML = '';

            if (scene.ending) {
                // Show ending
                gameEnded = true;
                choicesContainer.style.display = 'none';
                restartBtn.style.display = 'block';
                
                if (sanity >= 70) {
                    endingMessage.textContent = "ðŸŒŸ SURVIVED: You escaped, but the memories will haunt you forever...";
                } else if (sanity >= 30) {
                    endingMessage.textContent = "ðŸ‘» TRAPPED: The asylum claims another soul. You wander its halls forever...";
                } else {
                    endingMessage.textContent = "ðŸ’€ DAMNED: Your sanity shattered completely. The Watcher feasts on your fears.";
                }
            } else {
                // Show choices
                scene.choices.forEach((choice, index) => {
                    const button = document.createElement('button');
                    button.className = 'choice-btn';
                    button.textContent = choice.text;
                    button.setAttribute('data-choice', index + 1);
                    choicesContainer.appendChild(button);
                });
                
                restartBtn.style.display = 'none';
                endingMessage.textContent = '';
            }

            // Re-attach event listeners to new buttons
            setupEventListeners();
        }

        // Update progress bar
        function updateProgressBar() {
            const progress = (currentScene / (story.scenes.length - 1)) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
        }

        // Restart game
        function restartGame() {
            currentScene = 0;
            sanity = 100;
            gameEnded = false;
            document.getElementById('score').textContent = '100';
            document.getElementById('choicesContainer').style.display = 'grid';
            updateScene();
            updateProgressBar();
        }

        // Initialize the game when page loads
        window.onload = initGame;
    </script>
</body>
</html>
